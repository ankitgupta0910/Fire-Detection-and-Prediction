# IPython Notebook code
import cv2
import matplotlib.pyplot as plt
import sys
#%matplotlib inline
#
cctv_image_0 = cv2.imread('/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/' + sys.argv[1] + '.jpg')
#cctv_image_0 = cv2.imread('imagecheck.jpg')
cctv_image_1 = cv2.imread('/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/' + sys.argv[1] + '.jpg')
cctv_image_2 = cv2.imread('/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/' + sys.argv[1] + '.jpg')
cctv_image_3 = cv2.imread('/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/' + sys.argv[1] + '.jpg')
cctv_image_4 = cv2.imread('/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/' + sys.argv[1] + '.jpg')
cctv_image_5 = cv2.imread('/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/' + sys.argv[1] + '.jpg')
cctv_image_6 = cv2.imread('/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/' + sys.argv[1] + '.jpg')
cctv_image_7 = cv2.imread('/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/' + sys.argv[1] + '.jpg')
cctv_image_8 = cv2.imread('/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/' + sys.argv[1] + '.jpg')
cctv_image_9 = cv2.imread('/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/' + sys.argv[1] + '.jpg')
cctv_image_10 = cv2.imread('/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/' + sys.argv[1] + '.jpg')
cctv_image_11 = cv2.imread('/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/' + sys.argv[1] + '.jpg')

#print 'Number of arguments:', len(sys.argv), 'arguments.'
#print (str(sys.argv[1]))
#print (cctv_image.size)
# the 'cascade.xml' file is the file generated by the training script above
fire_classifier = cv2.CascadeClassifier('/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/CMPE295B/Janish/classifier/cascade.xml')

# various parameters can be passed to modify how objects are detected
fires = fire_classifier.detectMultiScale(cctv_image_0, 1.1, 2, maxSize=(100,100))

#print 'Fires detected: %d' % (len(fires))

# draw a rectangle around every fires detected
for (x,y,w,h) in fires:
#    cv2.rectangle(cctv_image, (x,y), (x+w, y+h),(255,0,0),2)
	cv2.line(cctv_image_0,(x,y),(x+2,y+2),(0,0,255),10)
	cv2.line(cctv_image_1,(x,y),(x+4,y+4),(0,0,255),10)
	cv2.line(cctv_image_2,(x,y),(x+6,y+6),(0,0,255),10)
	cv2.line(cctv_image_3,(x,y),(x+8,y+8),(0,0,255),10)
	cv2.line(cctv_image_4,(x,y),(x+10,y+10),(0,0,255),10)
	cv2.line(cctv_image_5,(x,y),(x+12,y+12),(0,0,255),10)
	cv2.line(cctv_image_6,(x,y),(x+14,y+14),(0,0,255),10)
	cv2.line(cctv_image_7,(x,y),(x+16,y+16),(0,0,255),10)
	cv2.line(cctv_image_8,(x,y),(x+18,y+18),(0,0,255),10)
	cv2.line(cctv_image_9,(x,y),(x+20,y+20),(0,0,255),10)
	cv2.line(cctv_image_10,(x,y),(x+22,y+22),(0,0,255),10)
	cv2.line(cctv_image_11,(x,y),(x+24,y+24),(0,0,255),10)
plt.figure(figsize=(9,9))
plt.axis('off')
cv2.imwrite( "/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/detected_" + sys.argv[1] + '_0.jpg',cctv_image_0);
cv2.imwrite( "/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/detected_" + sys.argv[1] + '_1.jpg',cctv_image_1);
cv2.imwrite( "/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/detected_" + sys.argv[1] + '_2.jpg',cctv_image_2);
cv2.imwrite( "/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/detected_" + sys.argv[1] + '_3.jpg',cctv_image_3);
cv2.imwrite( "/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/detected_" + sys.argv[1] + '_4.jpg',cctv_image_4);
cv2.imwrite( "/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/detected_" + sys.argv[1] + '_5.jpg',cctv_image_5);
cv2.imwrite( "/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/detected_" + sys.argv[1] + '_6.jpg',cctv_image_6);
cv2.imwrite( "/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/detected_" + sys.argv[1] + '_7.jpg',cctv_image_7);
cv2.imwrite( "/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/detected_" + sys.argv[1] + '_8.jpg',cctv_image_8);
cv2.imwrite( "/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/detected_" + sys.argv[1] + '_9.jpg',cctv_image_9);
cv2.imwrite( "/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/detected_" + sys.argv[1] + '_10.jpg',cctv_image_10);
cv2.imwrite( "/Users/ankitgupta/Documents/WebstormProjects/CMPE295B/public/images/detected_" + sys.argv[1] + '_11.jpg',cctv_image_11);
#cv2.imwrite("/Users/ankitgupta/Desktop/ankit0.jpg",cctv_image_0)
#cv2.imwrite("/Users/ankitgupta/Desktop/ankit1.jpg",cctv_image_1)
#cv2.imwrite("/Users/ankitgupta/Desktop/ankit2.jpg",cctv_image_2)
#cv2.imwrite("/Users/ankitgupta/Desktop/ankit3.jpg",cctv_image_3)
#cv2.imwrite("/Users/ankitgupta/Desktop/ankit4.jpg",cctv_image_4)
#cv2.imwrite("/Users/ankitgupta/Desktop/ankit5.jpg",cctv_image_5)
#cv2.imwrite("/Users/ankitgupta/Desktop/ankit6.jpg",cctv_image_6)
#cv2.imwrite("/Users/ankitgupta/Desktop/ankit7.jpg",cctv_image_7)
#cv2.imwrite("/Users/ankitgupta/Desktop/ankit8.jpg",cctv_image_8)
#cv2.imwrite("/Users/ankitgupta/Desktop/ankit9.jpg",cctv_image_9)
#cv2.imwrite("/Users/ankitgupta/Desktop/ankit10.jpg",cctv_image_10)
#cv2.imwrite("/Users/ankitgupta/Desktop/ankit11.jpg",cctv_image_11)
#plt.imshow(cv2.cvtColor(cctv_image, cv2.COLOR_BGR2RGB))
#cv2.imshow('cctv_image', cctv_image)
#cv2.waitKey(0)
#cv2.destroyAllWindows()
