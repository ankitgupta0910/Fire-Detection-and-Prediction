'use strict';
var ValidatedRequest = require('../lib/index.js');

var validatedRequest = new ValidatedRequest([{ 
    method: 'POST', 
    body: { name: 'string', country: 'string' }
}]);

var url = 'https://7ybhnmopy1.execute-api.us-east-1.amazonaws.com/latest/register-application';
var headers = { 'Content-Type': 'application/json' };
var name = 'John Smith';
var country = 'USA';
var body = { name, country };

return validatedRequest.post(url, headers, body)
.then(result => {
    console.log('---- START ----');
    console.log(result.response.statusCode, result.body);
    console.log('---- END ----');
    // expect(result.response).toBeDefined();
    // expect(result.body).toBeDefined();
})
.catch(e => console.log(e.error));